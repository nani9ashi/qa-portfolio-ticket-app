# テスト条件 - チケット管理アプリ

- 文書ID：TCND-TICKET-001
- 版：v0.1
- 最終更新日：2025-12-31
- 作成者：Shintaro
- 対象：チケット管理アプリ
- 関連：
  - テスト計画：`10_test_plan.md`
  - テストケース：`../testcases/testcases.csv`
  - トレーサビリティ：`70_requirements_test_traceability.md`
  
---

## 1. 優先度の考え方

- P1：最優先（権限／状態遷移／整合性に直結、または致命的な障害につながる）
- P2：高（主要フローの品質に強く影響）
- P3：中（補助機能、表示・利便性など）

## 2. テスト条件一覧

> 命名規則：TCND-XXX
> 
> 
> 1条件＝「何を確かめるか」を1文で表す（テストケースより上位の粒度）
> 

| ID | 優先度 | リスク | テスト条件 |
| --- | --- | --- | --- |
| TCND-001 | P1 | 権限 | 依頼者は自分のチケット詳細のみ参照できる |
| TCND-002 | P1 | 権限 | 依頼者は他人のチケット詳細にアクセスできない（直接URL/ID指定含む） |
| TCND-003 | P1 | 権限 | 依頼者はステータス変更できない（UI/直接操作の双方） |
| TCND-004 | P1 | 権限 | 担当者は全チケットを参照できる（仕様どおり） |
| TCND-005 | P1 | 権限 | 担当割当（Assign）は管理者のみ実行できる |
| TCND-006 | P1 | 状態遷移 | Open→In Progress / Pending の許可遷移ができる |
| TCND-007 | P1 | 状態遷移 | In Progress→Pending / Resolved の許可遷移ができる |
| TCND-008 | P1 | 状態遷移 | Pending→In Progress / Resolved の許可遷移ができる |
| TCND-009 | P1 | 状態遷移 | Resolved→Closed の許可遷移ができる |
| TCND-010 | P1 | 状態遷移 | 禁止遷移（例：Open→Closed、Closed→任意）は拒否される |
| TCND-011 | P1 | 整合性 | 同一チケットを別セッションで更新したとき、整合性が破綻しない（競合時の扱いが仕様どおり） |
| TCND-012 | P1 | 整合性 | 同時にステータス変更が走っても、最終状態と履歴が整合する |
| TCND-013 | P2 | 入力 | 依頼者が必須項目を満たしてチケットを作成できる |
| TCND-014 | P2 | 入力 | 必須不足の場合、作成できずエラーが表示される |
| TCND-015 | P2 | 入力 | タイトルの境界値（最大長ちょうど/超過）の受理・拒否が正しい |
| TCND-016 | P2 | 入力 | 本文の境界値（最大長ちょうど/超過）の受理・拒否が正しい |
| TCND-017 | P2 | 入力 | 期限が過去日の場合、作成できずエラーとなる |
| TCND-018 | P2 | 入力 | 添付ファイル：サイズ上限超過は拒否される |
| TCND-019 | P2 | 入力 | 添付ファイル：許可形式以外は拒否される（または安全に扱われる） |
| TCND-020 | P2 | 検索 | 依頼者の一覧には自分のチケットのみ表示される |
| TCND-021 | P2 | 検索 | キーワード検索（部分一致）が期待どおりに絞り込める |
| TCND-022 | P2 | 検索 | 状態フィルタが期待どおりに絞り込める |
| TCND-023 | P2 | 検索 | ソート（更新日時など）が期待どおりである |
| TCND-024 | P2 | 履歴 | コメントを追加でき、詳細画面に表示される |
| TCND-025 | P2 | 履歴 | ステータス変更が履歴として残り、表示される |
| TCND-026 | P3 | 表示 | 権限がない操作は、分かりやすい抑止表示またはエラーとなる |
| TCND-027 | P3 | 検索 | 件数が多い場合でも一覧表示が破綻しない（簡易確認） |
| TCND-028 | P3 | 表示 | エラー文言がユーザに理解可能な内容になっている（簡易確認） |

## 3. 次の成果物への紐づけ

- 各テスト条件（TCND-XXX）に対し、テストケース（TC-XXX）を作成する
- 要件とテストの対応表では「要件 → テスト条件 → テストケース」を追跡する